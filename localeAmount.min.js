// Copyright 2013 St√©phane Lavergne <http://www.imars.com/> Free software under <http://www.gnu.org/licenses/lgpl-3.0.txt>
(function(window){"use strict";Number.prototype.toLocaleAmount=function(i,e,f){var x=i||window.navigator.userLanguage||window.navigator.language||"",s=Number.prototype.toLocaleAmount.locales,t=parseInt(e,10),r=null,u="",n=[],p=0,o=0;if(x=x.substring(0,2).toLowerCase(),s[x]||(x="en"),isNaN(t)&&(t=-1,r=e),s[x].currencies[r]&&(t=s[x].currencies[r].digits),u=t>=0?this.toFixed(t):""+this,n=u.split(".",2),u="",p=n[0].length,p>3)for(o=p;o>=0;o-=3)o>0&&p>o&&(u=s[x].thousands+u),u=n[0].substring(o-3,o)+u;else u=n[0];if(n[1]!==void 0)if(u+=s[x].decimal,p=n[1].length,p>5)for(o=0;p>o;o+=3)o>0&&p>o&&(u+=s[x].thousandths),u+=n[1].substring(o,o+3);else u+=n[1];return r&&s[x].currencies[r]&&(u=f?s[x].currencies[r].extPrefix+u+s[x].currencies[r].extSuffix:s[x].currencies[r].prefix+u+s[x].currencies[r].suffix),u},Number.prototype.toLocaleAmount.locales={en:{thousands:",",decimal:".",thousandths:"&nbsp;",currencies:{AUD:{prefix:"$",suffix:"",extPrefix:"A$",extSuffix:"",digits:2},CAD:{prefix:"$",suffix:"",extPrefix:"C$",extSuffix:"",digits:2},CHF:{prefix:"",suffix:"",extPrefix:"",extSuffix:"",digits:2},EUR:{prefix:"&euro;",suffix:"",extPrefix:"&euro;",extSuffix:"",digits:2},GBP:{prefix:"&pound;",suffix:"",extPrefix:"&pound;",extSuffix:"",digits:2},JPY:{prefix:"&yen;",suffix:"",extPrefix:"&yen;",extSuffix:"",digits:0},MXN:{prefix:"$",suffix:"",extPrefix:"Mex$",extSuffix:"",digits:2},NZD:{prefix:"$",suffix:"",extPrefix:"NZ$",extSuffix:"",digits:2},USD:{prefix:"$",suffix:"",extPrefix:"US$",extSuffix:"",digits:2}}},fr:{thousands:"&nbsp;",decimal:",",thousandths:"&nbsp;",currencies:{AUD:{prefix:"",suffix:"&nbsp;$",extPrefix:"",extSuffix:"&nbsp;$A",digits:2},CAD:{prefix:"",suffix:"&nbsp;$",extPrefix:"",extSuffix:"&nbsp;$CAN",digits:2},CHF:{prefix:"",suffix:"",extPrefix:"",extSuffix:"",digits:2},EUR:{prefix:"",suffix:"&nbsp;&euro;",extPrefix:"",extSuffix:"&nbsp;&euro;",digits:2},GBP:{prefix:"",suffix:"&nbsp;&pound;",extPrefix:"",extSuffix:"&nbsp;&pound;",digits:2},JPY:{prefix:"",suffix:"&nbsp;&yen;",extPrefix:"",extSuffix:"&nbsp;&yen;",digits:0},MXN:{prefix:"",suffix:"&nbsp;$",extPrefix:"",extSuffix:"&nbsp;$Mex",digits:2},NZD:{prefix:"",suffix:"&nbsp;$",extPrefix:"",extSuffix:"&nbsp;$NZ",digits:2},USD:{prefix:"",suffix:"&nbsp;$",extPrefix:"",extSuffix:"&nbsp;$US",digits:2}}}}})(window);